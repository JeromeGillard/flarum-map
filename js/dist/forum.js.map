{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@jeromegillard/flarum-osm/./src/common/index.ts","webpack://@jeromegillard/flarum-osm/./src/forum/components/customCounter.js","webpack://@jeromegillard/flarum-osm/./src/forum/components/osmMap.js","webpack://@jeromegillard/flarum-osm/./src/forum/index.ts","webpack://@jeromegillard/flarum-osm/external root \"flarum.core.compat['common/Component']\"","webpack://@jeromegillard/flarum-osm/external root \"flarum.core.compat['common/app']\"","webpack://@jeromegillard/flarum-osm/external root \"flarum.core.compat['common/extend']\"","webpack://@jeromegillard/flarum-osm/external root \"flarum.core.compat['components/Post']\"","webpack://@jeromegillard/flarum-osm/external root \"flarum.core.compat['forum/app']\"","webpack://@jeromegillard/flarum-osm/external root \"flarum.core.compat['forum/components/HeaderPrimary']\"","webpack://@jeromegillard/flarum-osm/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@jeromegillard/flarum-osm/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@jeromegillard/flarum-osm/webpack/bootstrap","webpack://@jeromegillard/flarum-osm/webpack/runtime/compat get default export","webpack://@jeromegillard/flarum-osm/webpack/runtime/define property getters","webpack://@jeromegillard/flarum-osm/webpack/runtime/hasOwnProperty shorthand","webpack://@jeromegillard/flarum-osm/webpack/runtime/make namespace object","webpack://@jeromegillard/flarum-osm/./forum.ts"],"sourcesContent":["import app from 'flarum/common/app';\n\napp.initializers.add('jeromegillard/flarum-osm', () => {\n  console.log('[jeromegillard/flarum-osm] Hello, forum and admin!');\n});\n","import Component from 'flarum/common/Component';\nimport app from 'flarum/forum/app';\n\nexport default class Counter extends Component {\n  \n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.mapboxKey = app.forum.attribute(\"osm.mapbox\");\n  }\n\n  view() {\n    /*return (\n      <div>\n        Count: {this.count}\n        <button onclick={e => this.count++}>\n          {this.attrs.buttonLabel}\n        </button>\n      </div>\n    );*/\n    return (\n        <div id={'map'+this.attrs.pid}></div>\n    );\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    var map = L.map('map'+ this.attrs.pid).setView([50.4631,5.7533], 13);\n\n    var tiles = L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token='+this.mapboxKey, \n    {\n      maxZoom: 18,\n      attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, ' +\n        'Imagery Â© <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n      id: 'mapbox/light-v9',\n      tileSize: 512,\n      zoomOffset: -1\n    }).addTo(map);\n  }\n}\n\n//m.mount(document.body, <MyComponent buttonLabel=\"Increment\" />);","import Post from 'flarum/components/Post';\nimport { extend } from 'flarum/common/extend';\nimport HeaderPrimary from 'flarum/forum/components/HeaderPrimary';\nimport Counter from './customCounter';\n\n\n/* global $ */\nexport default function () {\n    extend(Post.prototype, 'content', function (content) {\n        let postId = this.attrs.post.id();\n        console.log(\"Found post id \", postId), this.attrs.post;\n        content.push(\n            <Counter buttonLabel=\"++\" pid={postId}/> \n        );\n    });\n\n    extend(HeaderPrimary.prototype, 'items', function(items) {\n        items.add('google', <a href=\"https://google.com\">Google</a>);\n        \n    });\n\n    //m.mount(document.body, <Counter buttonLabel=\"Increment\" />);\n}","import app from 'flarum/forum/app';\nimport { extend } from 'flarum/common/extend';\nimport HeaderPrimary from 'flarum/forum/components/HeaderPrimary';\nimport osmMap from './components/osmMap';\n\napp.initializers.add('jeromegillard/flarum-osm', () => {\n  console.log('[jeromegillard/flarum-osm] Hello, forum!');\n\n  osmMap();\n\n});\n","module.exports = flarum.core.compat['common/Component'];","module.exports = flarum.core.compat['common/app'];","module.exports = flarum.core.compat['common/extend'];","module.exports = flarum.core.compat['components/Post'];","module.exports = flarum.core.compat['forum/app'];","module.exports = flarum.core.compat['forum/components/HeaderPrimary'];","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export * from './src/common';\nexport * from './src/forum';\n"],"names":["app","initializers","add","console","log","Component","Counter","oninit","vnode","mapboxKey","forum","attribute","view","attrs","pid","oncreate","map","L","setView","tiles","tileLayer","maxZoom","attribution","id","tileSize","zoomOffset","addTo","Post","extend","HeaderPrimary","prototype","content","postId","post","push","items","osmMap","setPrototypeOf","_inheritsLoose","subClass","superClass","Object","create","constructor","_setPrototypeOf","o","p","bind","__proto__"],"sourceRoot":""}